<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Important Question ğŸ’Œ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,#ffdde1,#ee9ca7);
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
  overflow:hidden;
}

.card{
  background:#fff;
  padding:2.4rem;
  border-radius:18px;
  width:min(92%,460px);
  text-align:center;
  box-shadow:0 25px 50px rgba(0,0,0,.15);
  position:relative;
  z-index:2;
}

h1{font-size:2rem;margin-bottom:.6rem}
h2{margin-bottom:.4rem}
p{font-size:1.05rem;line-height:1.6}

.buttons{
  display:flex;
  justify-content:center;
  gap:.8rem;
  flex-wrap:wrap;
  margin-top:1rem;
}

button{
  border:none;
  padding:.7rem 1.4rem;
  border-radius:999px;
  font-size:1rem;
  cursor:pointer;
}

#yesBtn{background:#ff4d6d;color:white}
#fakeNoBtn{background:#f1f1f1}

.final,.movies,.caught,.screenshot,.fadeout{display:none}

/* Hidden NO inside normal */
.normal-container{position:relative;display:inline-block}
#realNoBtn{
  position:absolute;
  top:0;
  left:18%;
  font-size:.55rem;
  opacity:.25;
  background:transparent;
  border:none;
  cursor:pointer;
}
#realNoBtn:hover{opacity:.5}

/* Spinner */
.spinner{
  width:36px;height:36px;
  border:4px solid #eee;
  border-top:4px solid #ff4d6d;
  border-radius:50%;
  animation:spin .9s linear infinite;
  margin:0 auto 1rem;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* Bounce words */
.word{
  display:inline-block;
  margin-right:.3rem;
  animation:bounce .45s ease forwards;
}
@keyframes bounce{
  0%{transform:scale(.2);opacity:0}
  60%{transform:scale(1.25);opacity:1}
  100%{transform:scale(1)}
}

/* Shake */
.shake{animation:shake .3s}
@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-5px)}
  50%{transform:translateX(5px)}
  75%{transform:translateX(-5px)}
  100%{transform:translateX(0)}
}

/* Countdown */
#countdown{
  font-weight:600;
  color:#ff4d6d;
  margin:.8rem 0;
}

/* Movies */
.movie-list{
  text-align:left;
  font-size:.95rem;
  line-height:1.8;
  margin-top:1rem;
}

/* Screenshot */
.screenshot{
  animation:fadeIn .8s ease forwards;
}
@keyframes fadeIn{
  from{opacity:0;transform:scale(.95)}
  to{opacity:1;transform:scale(1)}
}

/* Fade out */
.fadeout{
  position:fixed;
  inset:0;
  background:linear-gradient(135deg,#ffdde1,#ee9ca7);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.6rem;
  font-weight:600;
  color:#ff4d6d;
  opacity:0;
  animation:fadeAway 3s ease forwards;
}
@keyframes fadeAway{
  0%{opacity:0}
  20%{opacity:1}
  80%{opacity:1}
  100%{opacity:0}
}

/* Confetti */
.confetti{
  position:fixed;
  width:8px;height:8px;
  top:-10px;
  border-radius:50%;
  animation:fall linear forwards;
}
@keyframes fall{
  to{transform:translateY(110vh) rotate(720deg);opacity:0}
}
</style>
</head>

<body>

<!-- QUESTION -->
<div class="card" id="questionCard">
  <h1>Hey Kanmani ğŸ‘€</h1>
  <p>
    I tried being chill about this.<br>
    That lasted five seconds.<br><br>
    You make <span class="normal-container">no
      <button id="realNoBtn">no</button>
    </span>rmal days better just by existing.<br><br>
    Will you be my <strong>Valentine? â¤ï¸</strong>
  </p>
  <div class="buttons">
    <button id="yesBtn">YES ğŸ’–</button>
    <button id="fakeNoBtn">No ğŸ™ƒ</button>
  </div>
</div>

<!-- YES -->
<div class="card final" id="finalCard">
  <h2 style="color:#ff4d6d">EVERYBODY SHE FINALLY SAID YES!!!! ğŸ‰</h2>
  <div style="font-size:3rem">â¤ï¸</div>
  <h1>KNEW IT.</h1>
  <div id="countdown"></div>
  <p>Soâ€¦ how are we doing Valentineâ€™s?</p>
  <div class="buttons">
    <button id="movieBtn">ğŸ¬ Movie Night</button>
    <button class="choiceBtn" data-choice="Songs & Chill ğŸ¶">ğŸ¶ Songs</button>
    <button class="choiceBtn" data-choice="Games Together ğŸ®">ğŸ® Games</button>
  </div>
</div>

<!-- MOVIES -->
<div class="card movies" id="movieCard">
  <h2>Movie Night It Is ğŸ¬</h2>
  <p>You pick. Iâ€™m in.</p>
  <ul class="movie-list">
    <li>ğŸŒ€ Eternal Sunshine of the Spotless Mind</li>
    <li>ğŸ’› Hasee Toh Phasee</li>
    <li>ğŸŒ™ OK Kanmani (the OG)</li>
    <li>ğŸ”¥ Dear Comrade</li>
    <li>ğŸ“ Happy Days</li>
    <li>ğŸŒ± Yeto Vellipoyindhi Manasu</li>
  </ul>
  <button id="confirmMovie">We choose this ğŸ’•</button>
</div>

<!-- CAUGHT -->
<div class="card caught" id="caughtCard">
  <div class="spinner" id="loader"></div>
  <h1 id="caughtText"></h1>
  <div id="riddleArea"></div>
  <button id="backBtn" style="display:none">Go back ğŸ˜Œ</button>
</div>

<!-- SCREENSHOT -->
<div class="card screenshot" id="screenshotCard">
  <h2>WE CHOSE THIS ğŸ’•</h2>
  <p id="finalChoice"></p>
  <p>Different cities.<br>Same Valentine.</p>
</div>

<div class="fadeout" id="fadeout">
  See you soon, Love â¤ï¸
</div>

<script>
const questionCard=document.getElementById("questionCard");
const finalCard=document.getElementById("finalCard");
const movieCard=document.getElementById("movieCard");
const caughtCard=document.getElementById("caughtCard");
const screenshotCard=document.getElementById("screenshotCard");
const fadeout=document.getElementById("fadeout");

const yesBtn=document.getElementById("yesBtn");
const fakeNoBtn=document.getElementById("fakeNoBtn");
const realNoBtn=document.getElementById("realNoBtn");

const caughtText=document.getElementById("caughtText");
const riddleArea=document.getElementById("riddleArea");
const backBtn=document.getElementById("backBtn");
const loader=document.getElementById("loader");

const finalChoice=document.getElementById("finalChoice");
const countdownEl=document.getElementById("countdown");

let noCount=0;

/* YES */
yesBtn.onclick=()=>{
  questionCard.style.display="none";
  finalCard.style.display="block";
  launchConfetti();
  startCountdown();
};

/* Countdown */
function startCountdown(){
  const target=new Date(new Date().getFullYear(),1,14);
  setInterval(()=>{
    const diff=target-new Date();
    const d=Math.floor(diff/(1000*60*60*24));
    const h=Math.floor((diff/(1000*60*60))%24);
    countdownEl.textContent=`${d} days ${h} hours to Valentineâ€™s ğŸ’Œ`;
  },1000);
}

/* NO logic */
realNoBtn.onclick=()=>{
  noCount++;
  questionCard.style.display="none";
  caughtCard.style.display="block";
  loader.style.display="block";
  caughtText.innerHTML="";
  riddleArea.innerHTML="";
  backBtn.style.display="none";

  setTimeout(()=>{
    loader.style.display="none";

    if(noCount===1){
      bounceWords(["Shaani","banri","h?"]);
      backBtn.style.display="inline-block";
    }
    else if(noCount===2){
      bounceWords(["Jyada","hi","shaani","banri","h?"]);
      setTimeout(showRiddle,1400);
    }
    else{
      caughtText.textContent="Chup-chap back daba de ha ğŸ˜Œ";
      riddleArea.innerHTML=`<button id="forceBack">Back to the question</button>`;
      document.getElementById("forceBack").onclick=()=>{
        caughtCard.style.display="none";
        questionCard.style.display="block";
      };
    }
  },900);
};

backBtn.onclick=()=>{
  caughtCard.style.display="none";
  questionCard.style.display="block";
};

function bounceWords(words){
  let i=0;
  const interval=setInterval(()=>{
    const span=document.createElement("span");
    span.className="word";
    span.textContent=words[i];
    caughtText.appendChild(span);
    i++;
    if(i===words.length) clearInterval(interval);
  },350);
}

function showRiddle(){
  riddleArea.innerHTML=`
    <p>Maarunga kheech ke giregi ____ pe</p>
    <input id="answer" placeholder="fill the blank">
  `;
  const input=document.getElementById("answer");
  input.onkeydown=e=>{
    if(e.key==="Enter"){
      if(input.value.trim().toLowerCase()==="beach"){
        caughtCard.style.display="none";
        questionCard.style.display="block";
      }else{
        input.classList.add("shake");
        setTimeout(()=>input.classList.remove("shake"),300);
      }
    }
  };
}

/* Fake NO */
fakeNoBtn.onmouseover=()=>{
  fakeNoBtn.style.transform=`translate(${Math.random()*200-100}px,${Math.random()*200-100}px)`;
};

/* Movie + choices */
document.getElementById("movieBtn").onclick=()=>{
  finalCard.style.display="none";
  movieCard.style.display="block";
};

document.getElementById("confirmMovie").onclick=()=>{
  movieCard.style.display="none";
  showFinal("Movie Night ğŸ¬");
};

document.querySelectorAll(".choiceBtn").forEach(btn=>{
  btn.onclick=()=>{
    finalCard.style.display="none";
    showFinal(btn.dataset.choice);
  };
});

function showFinal(text){
  screenshotCard.style.display="block";
  finalChoice.textContent=`This Valentine, we chose: ${text}`;
  launchConfetti();
  setTimeout(()=>fadeout.style.display="flex",2000);
}

/* Confetti */
function launchConfetti(){
  const colors=["#ff4d6d","#ffd166","#06d6a0","#4d96ff"];
  for(let i=0;i<90;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=colors[Math.floor(Math.random()*colors.length)];
    c.style.animationDuration=2+Math.random()*2+"s";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }
}
</script>

</body>
</html>

